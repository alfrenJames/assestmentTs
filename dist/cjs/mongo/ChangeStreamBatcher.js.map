{"version":3,"file":"ChangeStreamBatcher.js","sourceRoot":"","sources":["../../../src/mongo/ChangeStreamBatcher.ts"],"names":[],"mappings":"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"}